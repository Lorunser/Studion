@model Studion.ViewModels.NotesDisplayViewModel

@{
    ViewBag.Title = "Display";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>@Model.Note.Title</h2>
<table>
    <tr>
        <th>Author</th>
        <th>Subject</th>
        <th>Level</th>
        <th>Exam Board</th>
    </tr>
    <tr>
        <td>@Html.ActionLink(Model.Note.author.UserName, "ProfilePage", "Users", new { UserID = Model.Note.author.Id }, null)</td>
        <td>@Model.Note.subject.SubjectName</td>
        <td>@Model.Note.level.LevelName</td>
        <td>@Model.Note.examBoard.ExamBoardName</td>
    </tr>
</table>

<p>Rating: @Model.Note.GetAvRating()</p>

@Html.Partial("~/Views/Shared/_RatingPartial.cshtml")

@{
    string documentPath = "~/Documents/" + Model.Note.NoteID + ".pdf";
}

@Html.Partial("~/Views/Notes/_DocumentViewerPartial.cshtml", documentPath)

<ul>
    @if (Model.Note.comments.Count == 0)
    {
        <li>
            <p>No Comments Made</p>
        </li>
    }
    else
    {
        foreach (var comment in Model.Note.comments)
        {
            @Html.Partial("~/Views/Comment/_CommentPartial.cshtml", comment)
        }
    }
</ul>

@Html.Partial("~/Views/Comment/_CommentFormPartial.cshtml", Model)
