@model Studion.ViewModels.NotesDisplayViewModel

@{
    ViewBag.Title = "Display";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>@Model.Note.Title</h2>
<p>Author: @Html.ActionLink(Model.Note.author.UserName, "ProfilePage", "Users", new { UserID = Model.Note.author.Id }, null)</p>
<p>Subject: @Model.Note.subject.SubjectName</p>
<p>Level: @Model.Note.level.LevelName</p>
<p>Exam Board: @Model.Note.examBoard.ExamBoardName</p>
<p>Rating: @Model.Note.GetAvRating()</p>

<p>Your Rating: @Html.Partial("~/Views/Shared/_RatingPartial.cshtml")</p>

@{
    string documentPath = "~/Documents/" + Model.Note.NoteID + ".pdf";
}

@Html.Partial("~/Views/Notes/_DocumentViewerPartial.cshtml", documentPath)

<ul>
    @if (Model.Note.comments.Count == 0)
    {
        <li>
            <p>No Comments Made</p>
        </li>
    }
    else
    {
        foreach (var comment in Model.Note.comments)
        {
            @Html.Partial("~/Views/Comment/_CommentPartial.cshtml", comment)
        }
    }
</ul>

@Html.Partial("~/Views/Comment/_CommentFormPartial.cshtml", Model)
